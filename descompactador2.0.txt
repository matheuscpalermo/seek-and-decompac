#Script detects compact files (.tar.gz) in the current directory, and it's subdirectories, decompacts them, extract all the files to the current directory and deletes empty folders left behind.


#Decompact files

while [ ! -z "$(find . -name '*.tar.gz')"  ]; do
	find . -name "*.tar.gz" -exec tar xfvz "{}" \; -exec rm "{}" \;	
done


#Extract files to the current directory

find . -type f -exec mv "{}" . \;


#Deletes empty folders under the current directory

while [ ! -z "$(find . -type d -empty)" ]; do
	find . -type d -empty -exec rmdir "{}" \;
done
